"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3669],{3669:(D,u,i)=>{i.r(u),i.d(u,{LegendaPageModule:()=>R});var c=i(6895),r=i(603),h=i(4006),d=i(1698),e=i(4650),m=i(8914),f=i(5806),x=i(1481),_=i(5393),p=i(6188),P=i(241);function v(n,a){1&n&&(e.TgZ(0,"div",4)(1,"ion-thumbnail"),e._UZ(2,"ion-skeleton-text",5),e.qZA(),e._UZ(3,"img",6),e.qZA())}const b=function(n){return{active:n}};function C(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.favorite())}),e._UZ(1,"ion-icon",23)(2,"ion-icon",24),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e._UZ(5,"ion-ripple-effect",25),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,b,null==t.settings.legendPage?null:t.settings.legendPage.Favorite)),e.xp6(4),e.Oqu(null==t.settings.legendPage?null:t.settings.legendPage.Likes)}}function T(n,a){if(1&n&&e._UZ(0,"img",26),2&n){const t=e.oxw(2);e.s9C("src",null==t.settings.legendPage?null:t.settings.legendPage.FeaturedImage,e.LSH),e.s9C("alt",null==t.settings.legendPage?null:t.settings.legendPage.Title)}}function M(n,a){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"ion-icon",27),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PREMIUM")))}function w(n,a){if(1&n&&e._UZ(0,"p",28),2&n){const t=e.oxw(2);e.Q6J("innerHTML",null==t.settings.legendPage?null:t.settings.legendPage.ContentHTML,e.oJD)}}function O(n,a){if(1&n&&e._UZ(0,"p",29),2&n){const t=e.oxw(2);e.Q6J("innerHTML",null==t.settings.legendPage?null:t.settings.legendPage.ContentShort,e.oJD)}}function L(n,a){if(1&n&&(e.TgZ(0,"p",30),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.lnq("",e.lcZ(2,3,"LEFT_MORE")," ",null==t.settings.legendPage?null:t.settings.legendPage.Progress_left,"% ",e.lcZ(3,5,"TEXT"),"")}}function k(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(null==t.settings.legendPage?null:t.settings.legendPage.Progress)}}function Z(n,a){1&n&&(e.TgZ(0,"ion-label"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DOWNLOAD_APP")))}function A(n,a){1&n&&(e.TgZ(0,"ion-label"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MORE_IN_APP")))}function I(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.appToast())}),e._UZ(1,"ion-img",34),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.MGl("src","assets/imgs/apple_",t.settings.langCode,".svg")}}function y(n,a){if(1&n&&(e.TgZ(0,"a",35),e._UZ(1,"ion-img",34),e.qZA()),2&n){const t=e.oxw(2);e.s9C("href",t.settings.aplikacja_ios,e.LSH),e.xp6(1),e.MGl("src","assets/imgs/apple_",t.settings.langCode,".svg")}}function z(n,a){if(1&n&&(e.TgZ(0,"a",35),e._UZ(1,"ion-img",34),e.qZA()),2&n){const t=e.oxw(2);e.s9C("href",t.settings.aplikacja_android,e.LSH),e.xp6(1),e.MGl("src","assets/imgs/google_",t.settings.langCode,".svg")}}function S(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"h1",7),e.YNc(2,C,6,4,"button",8),e.YNc(3,T,1,2,"img",9),e.TgZ(4,"div",10),e.YNc(5,M,5,3,"div",11),e.TgZ(6,"div",12)(7,"ion-label"),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-card",13),e.YNc(10,w,1,1,"p",14),e.YNc(11,O,1,1,"p",15),e.qZA(),e.YNc(12,L,4,7,"p",16),e.YNc(13,k,3,1,"div",17),e.TgZ(14,"ion-card",18),e.YNc(15,Z,3,3,"ion-label",3),e.YNc(16,A,3,3,"ion-label",3),e.TgZ(17,"div",19),e.YNc(18,I,2,1,"a",20),e.YNc(19,y,2,2,"a",21),e.YNc(20,z,2,2,"a",21),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",null==t.settings.legendPage?null:t.settings.legendPage.Title,e.oJD),e.xp6(1),e.Q6J("ngIf",null==t.settings.legendPage?null:t.settings.legendPage.Date),e.xp6(1),e.Q6J("ngIf",null==t.settings.legendPage?null:t.settings.legendPage.FeaturedImage),e.xp6(2),e.Q6J("ngIf",(null==t.settings.legendPage?null:t.settings.legendPage.Points)>0),e.xp6(3),e.hij("\xb7 ",null==t.settings.legendPage?null:t.settings.legendPage.Date," \xb7"),e.xp6(2),e.Q6J("ngIf",0==(null==t.settings.legendPage?null:t.settings.legendPage.Points)),e.xp6(1),e.Q6J("ngIf",(null==t.settings.legendPage?null:t.settings.legendPage.Points)>0),e.xp6(1),e.Q6J("ngIf",(null==t.settings.legendPage?null:t.settings.legendPage.Points)>0),e.xp6(1),e.Q6J("ngIf",(null==t.settings.legendPage?null:t.settings.legendPage.Points)>0),e.xp6(2),e.Q6J("ngIf",0==(null==t.settings.legendPage?null:t.settings.legendPage.Points)),e.xp6(1),e.Q6J("ngIf",(null==t.settings.legendPage?null:t.settings.legendPage.Points)>0),e.xp6(2),e.Q6J("ngIf",!t.settings.aplikacja_ios),e.xp6(1),e.Q6J("ngIf",t.settings.aplikacja_ios),e.xp6(1),e.Q6J("ngIf",t.settings.aplikacja_android)}}const N=[{path:"",component:(()=>{class n{constructor(t,o,s,g,l,E){this.route=t,this.service=o,this.CFS=s,this.domSanitizer=g,this.settings=l,this.translate=E,this.loading=!0,this.loadingFailed=!1,this.FavoriteIcon=!1,this.subscriptions=[],this.loadingComment=!0,this.lastNumberComment=6,this.pageComment=1,this.hasComments=!1,this.profileData=!1,this.spinner=!1,this.spinnerComment=!1,this.authorName="",this.authorAvatar="",this.authorPremium="0",this.commentText="",this.commentTextCount=0,this.slideEpic={slidesPerView:4.5,spaceBetween:18,centeredSlides:!1,freeMode:!0}}ngOnInit(){this.route.paramMap.subscribe(t=>{this.slug=t.get("slug"),this.settings.legendsPageSlug=this.slug,this.settings.langCode=this.route.snapshot.paramMap.get("lang"),this.service.getLegendPage(),this.content.scrollToTop(400),"true"==localStorage.getItem("profile_data")&&(this.profileData=!0,this.authorName=localStorage.getItem("author_name"),this.authorAvatar=localStorage.getItem("author_avatar"))})}getsomo(){this.service.getLegenda(this.slug,this.settings.langCode).then(t=>{if(this.tags_names=t[0].categories_names,this.tags_names){let o=1,s=[];for(;this.tags_names[o+""];)s.push(this.tags_names[o+""]),o+=1;this.tags_names=s}})}getSlug(t){return(t=t.replace(/[^a-zA-Z ]/g,"").replace(/ +/g,"-")).toLowerCase()}appToast(){this.CFS.presentToast(this.translate.instant("APP_SOON"),"top",1300)}getTagSlug(t){return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/ +/g,"-")).toLowerCase()).replace(new RegExp("[\u0105]","g"),"a")).replace(new RegExp("[\u0107]","g"),"c")).replace(new RegExp("[\u0119]","g"),"e")).replace(new RegExp("[\u0142]","g"),"l")).replace(new RegExp("[\u0144]","g"),"n")).replace(new RegExp("[\xf3]","g"),"o")).replace(new RegExp("[\u015b]","g"),"s")).replace(new RegExp("[\u017a,\u017c]","g"),"z")).replace(new RegExp("[\xff]","g"),"y")}authorImage(t){localStorage.setItem("avatar",t),this.authorAvatar=t}getAuthorName(t){return t.substring(2)}getAuthorAvatar(t){return"assets/imgs/avatar-"+t.match(/^.{1,1}/g)+".png"}getAuthorPremium(t){return(t=t.substring(1)).match(/^.{1,1}/g)}selectedAvatar(t){return"0"==this.authorPremium?this.authorAvatar.includes(t)?{opacity:"1",transform:"scale(1.1)","background-color":"#ffffff"}:{opacity:"0.5",transform:"scale(1)","background-color":"#ffffff50"}:"1"==this.authorPremium?this.authorAvatar.includes(t)?{opacity:"1",transform:"scale(1.1)","background-color":"#ffc900"}:{opacity:"0.5",transform:"scale(1)","background-color":"#ffc90050"}:void 0}editProfileData(){this.profileData=!1}authorNameRestrict(){let t=/jeba\u0107|jebac|chuj|skurwiel|ciota|peda\u0142|dziwka|czarnuch|pizda|zjeb|rucha|pieprzy|pierdol|kurw|pizdy|g\xf3wno|gowno|kutas/gi,o=/putin|legendy z mazur|legendyzmazur/gi;this.authorName.match(t)?(this.authorName=this.authorName.replace(t,"****"),this.CFS.presentToast(this.translate.instant("NO_BAD_WORDS"),"top",1300)):this.authorName.match(o)&&(this.authorName=this.authorName.replace(o,"****"),this.CFS.presentToast(this.translate.instant("CHOOSE_DIFFERENT_ NAME"),"top",1300))}commentCount(){this.commentTextCount=this.commentText.split("").length;let t=/jeba\u0107|jebac|chuj|skurwiel|ciota|peda\u0142|dziwka|czarnuch|pizda|zjeb|rucha|pieprzy|pierdol|kurw|pizdy|g\xf3wno|gowno|kutas/gi;this.commentText.match(t)&&(this.commentText=this.commentText.replace(t,"****"),this.CFS.presentToast(this.translate.instant("NO_BAD_WORDS"),"top",1300))}madeRefresh(t){location.reload()}ngAfterViewInit(){}ngOnDestroy(){}ionViewDidEnter(){}postComment(){if(this.authorAvatar&&this.commentText&&this.authorName){this.spinnerComment=!0;let t=this.domSanitizer.bypassSecurityTrustHtml(this.authorAvatar+this.authorPremium+this.authorName),o=this.domSanitizer.bypassSecurityTrustHtml(this.commentText);const g=JSON.stringify({author_name:t.changingThisBreaksApplicationSecurity,content:o.changingThisBreaksApplicationSecurity,post:this.postId});this.service.postAComment(g).then(l=>{l.error?(this.spinnerComment=!1,this.CFS.presentToast(l.error.message,"top",3e3),console.log(l.error)):(this.spinnerComment=!1,this.CFS.presentToast(this.translate.instant("WAITING_FOR_APPROVE"),"top",3e3),this.commentText="")}),localStorage.setItem("author_name",this.authorName),localStorage.setItem("author_avatar",this.authorAvatar),localStorage.setItem("profile_data","true"),this.profileData=!0}else this.CFS.presentToast(this.translate.instant("FILL_FIELDS"),"top",3e3)}favorite(){this.settings.legendPage.Favorite?(this.settings.favoriteLegends.map((t,o)=>{t.Slug==this.settings.legendPage.Slug&&this.settings.favoriteLegends.splice(o,1)}),localStorage.setItem("favoriteLegends",JSON.stringify(this.settings.favoriteLegends)),this.settings.legendPage.Favorite=!this.settings.legendPage.Favorite,this.settings.legendPage.Likes-=1,navigator.vibrate([10,10,10])):(this.settings.favoriteLegends=this.settings.favoriteLegends||[],this.settings.favoriteLegends.push(this.settings.legendPage),localStorage.setItem("favoriteLegends",JSON.stringify(this.settings.favoriteLegends)),this.settings.legendPage.Favorite=!this.settings.legendPage.Favorite,this.settings.legendPage.Likes+=1,navigator.vibrate(5))}views(){}likeComment(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(m.t),e.Y36(f.b),e.Y36(x.H7),e.Y36(_.Z),e.Y36(p.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-legenda"]],viewQuery:function(t,o){if(1&t&&e.Gf(r.W2,7),2&t){let s;e.iGM(s=e.CRH())&&(o.content=s.first)}},decls:7,vars:2,consts:[["slot","fixed","id","refresher",2,"padding","34px 0px 120px 0px","margin-top","0px",3,"ionRefresh"],[1,"content-size"],["class","skeleton",4,"ngIf"],[4,"ngIf"],[1,"skeleton"],["animated",""],["src","assets/imgs/placeholder.png","alt","Placeholder image"],[1,"title",3,"innerHTML"],["class","favorite-button ion-activatable ripple-parent",3,"ngClass","click",4,"ngIf"],["loading","lazy","width","1200","height","670","class","image",3,"src","alt",4,"ngIf"],[1,"chip-section"],["class","postChip",4,"ngIf"],[1,"postChip"],["lines","none",1,"text-section"],[3,"innerHTML",4,"ngIf"],["class","text-pro",3,"innerHTML",4,"ngIf"],["class","proggress-bar",4,"ngIf"],["class","p5 progress-outer",4,"ngIf"],[1,"store-box"],[1,"store-section"],[3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],[1,"favorite-button","ion-activatable","ripple-parent",3,"ngClass","click"],["name","heart-outline",1,"heart-outline"],["name","heart",1,"heart"],["type","bounded"],["loading","lazy","width","1200","height","670",1,"image",3,"src","alt"],["name","star"],[3,"innerHTML"],[1,"text-pro",3,"innerHTML"],[1,"proggress-bar"],[1,"p5","progress-outer"],[1,"progress-inner"],[3,"click"],[3,"src"],["target","_blank",3,"href"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content")(1,"ion-refresher",0),e.NdJ("ionRefresh",function(g){return o.madeRefresh(g)}),e._UZ(2,"ion-refresher-content"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,v,4,0,"div",2),e.YNc(5,S,21,14,"div",3),e.qZA(),e._UZ(6,"app-footer"),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",!(null!=o.settings.legendPage&&o.settings.legendPage.FeaturedImage)),e.xp6(1),e.Q6J("ngIf",null==o.settings.legendPage?null:o.settings.legendPage.FeaturedImage))},dependencies:[c.mk,c.O5,r.PM,r.W2,r.gu,r.Xz,r.Q$,r.nJ,r.Wo,r.H$,r.CK,r.Bs,P.c,p.X$],styles:['.content-size[_ngcontent-%COMP%]{padding:16px;margin-bottom:12px}.skeleton[_ngcontent-%COMP%]{padding-bottom:4000px}.skeleton[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100%;height:36px;margin:0 0 12px}.skeleton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;background-color:var(--ion-border-color)}.title[_ngcontent-%COMP%]{font-weight:500;font-size:36px;line-height:36px;display:block;margin:0 0 12px}.favorite-button[_ngcontent-%COMP%]{margin:20px 0 0 12px!important;color:var(--ion-background-color);background-color:var(--ion-text-color);font-size:26px;text-align:center;border-radius:14px;padding:0;position:relative;width:44px;height:44px}.favorite-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;min-width:14px;padding:3px 5px;background-color:var(--ion-color-gold);color:#000;border-radius:50px;font-weight:500;font-size:8px}.favorite-button[_ngcontent-%COMP%]   ion-ripple-effect[_ngcontent-%COMP%]{border-radius:14px}.favorite-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;width:0px;height:0px;transition:all .3s;opacity:0;font-size:22px}.favorite-button[_ngcontent-%COMP%]   ion-icon.heart-outline[_ngcontent-%COMP%]{width:24px;height:24px;opacity:1}.favorite-button.active[_ngcontent-%COMP%]   ion-icon.heart[_ngcontent-%COMP%]{width:24px;height:24px;opacity:1;will-change:transform;transform:scale(1);visibility:visible;animation:bounce-in-fwd .4s both;color:var(--ion-color-red)}.favorite-button.active[_ngcontent-%COMP%]   ion-icon.heart-outline[_ngcontent-%COMP%]{width:54px;height:54px;opacity:0;will-change:transform;transform:scale(1);visibility:hidden}.image[_ngcontent-%COMP%]{margin-top:-56px;border-radius:14px;width:100%;height:auto}.chip-section[_ngcontent-%COMP%]{margin:-48px 0 0 2px}.text-section[_ngcontent-%COMP%]{--background: transparent;margin:0!important;padding:0!important;box-shadow:none;border-radius:0;transform:none}.text-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:regular;font-size:18px}.text-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child:first-letter{float:left;font-weight:700;font-size:59px;margin:10px 10px 0 0;padding:0 8px 2px;color:var(--ion-background-color);background-color:var(--ion-text-color);border-radius:6px}.text-pro[_ngcontent-%COMP%]:before{position:absolute;left:0;bottom:0;content:" ";display:block;width:100%;height:100%;background:linear-gradient(to bottom,rgba(255,255,255,0) 40%,var(--ion-background-color) 100%);z-index:5}.proggress-bar[_ngcontent-%COMP%]{font-size:12px;padding:0;margin:0;text-align:center;font-weight:700;z-index:10}.progress-outer[_ngcontent-%COMP%]{width:100%;margin:2px 0 12px;padding:2px;text-align:center;background-color:#ffc90020;border:3px solid var(--ion-text-color);color:#1e1f21;font-size:12px;font-weight:700;border-radius:14px}.progress-inner[_ngcontent-%COMP%]{min-width:15%;width:var(--progress-width);white-space:nowrap;overflow:hidden;padding:5px;border-radius:10px;background-color:var(--ion-color-gold);border:1px solid var(--ion-color-gold);box-shadow:0 3px 14px -4px var(--ion-color-gold)}.store-box[_ngcontent-%COMP%]{background:url(handwrite.5070e07edad25fcb.svg) repeat center center;background-size:30% auto;text-align:center;padding:12px;margin:0;box-shadow:none;background-color:var(--ion-card-background-2);border-radius:8px;border:0px solid var(--ion-border-color-2)}.store-box[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.store-box[_ngcontent-%COMP%]   .store-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:12px 0 0}.store-box[_ngcontent-%COMP%]   .store-section[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-right:3px;height:40px}.avatar-click[_ngcontent-%COMP%]{cursor:pointer;padding:0;margin:4%;opacity:.5;transform:scale(1);transition:all .12s linear;border-radius:50%}.comment-avatar[_ngcontent-%COMP%]{background-color:var(--ion-border-color);border-radius:50%}.editButton[_ngcontent-%COMP%]{color:var(--ion-text-color);border:1px solid var(--ion-border-color-2);background-color:var(--ion-card-background-2);--background: var(--ion-card-background-2);text-transform:none!important;font-size:12px;border-radius:0%;--border-radius: 0%;--box-shadow: none;box-shadow:none;padding:0;height:24px;margin:0}.likeButton[_ngcontent-%COMP%]{color:var(--ion-text-color);background-color:transparent;--background: transparent;text-transform:none!important;font-size:10px;border-radius:0%;--border-radius: 0%;--box-shadow: none;box-shadow:none;padding:0;height:23px;width:50px;margin:-7px 0 0}.likeButton.active[_ngcontent-%COMP%]{color:var(--ion-color-red)}.infoPost[_ngcontent-%COMP%]{color:#fff;border-radius:8px;border:1px solid rgba(117,111,99,.5647058824);background-color:#1e1f2190;padding:2px 12px 6px;display:inline-block;margin:0 0 0 10px}.moreButton[_ngcontent-%COMP%]{color:var(--ion-text-color);border:1px solid var(--ion-border-color-2);background-color:var(--ion-card-background-2);--background: var(--ion-card-background-2);text-transform:none!important;font-size:16px;border-radius:8px;--border-radius: 8px;--box-shadow: none;box-shadow:none;padding:0;height:40px;width:240px;margin:12px auto 0;display:block}']}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(N),d.Bz]}),n})();var J=i(9258);let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,h.u5,r.Pc,F,p.aw,J.K]}),n})()}}]);