{"version":3,"file":"src_app_stronica_stronica_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAMG,MAAM,GAAW,CACrB;EACEC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEH,wDAAYA;CACxB,CACF;AAMM,IAAMI,yBAAyB,GAA/B,MAAMA,yBAAyB,GAAG;AAA5BA,yBAAyB,sDAJrCN,uDAAQ,CAAC;EACRO,OAAO,EAAE,CAACN,kEAAqB,CAACE,MAAM,CAAC,CAAC;EACxCM,OAAO,EAAE,CAACR,yDAAY;CACvB,CAAC,GACWK,yBAAyB,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AACF;AACA;AACyB;AACvB;AACyB;AAYjE,IAAMQ,kBAAkB,GAAxB,MAAMA,kBAAkB,GAAG;AAArBA,kBAAkB,sDAV9Bd,uDAAQ,CAAC;EACRO,OAAO,EAAE,CACPG,yDAAY,EACZC,uDAAW,EACXC,uDAAW,EACXN,+EAAyB,EACzBO,kFAAgB,CACjB;EACDE,YAAY,EAAE,CAACb,wDAAY;CAC5B,CAAC,GACWY,kBAAkB,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClB2B;AACjB;AACK;AACI;AACG;AACH;AACqB;AAQnE,IAAMZ,YAAY,aAAlB,MAAMA,YAAY;EAYzBuB,YACSC,YAAmB,EACnBC,IAAU,EACVC,KAAqB,EACrBC,OAAgB,EACdC,QAAkB,EACjBC,SAAuB;IAL1B,iBAAY,GAAZL,YAAY;IACZ,SAAI,GAAJC,IAAI;IACJ,UAAK,GAALC,KAAK;IACL,YAAO,GAAPC,OAAO;IACL,aAAQ,GAARC,QAAQ;IACP,cAAS,GAATC,SAAS;IAhBnB,YAAO,GAAY,IAAI;IACvB,kBAAa,GAAY,KAAK;IAkB7BC,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,MAAM,EAAE,IAAI,CAACJ,QAAQ,CAACK,QAAQ,CAAC;EAExE;EAEEC,QAAQ;IACN,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,SAAS,CAAED,QAAQ,IAAI;MACzC,IAAI,CAACE,IAAI,GAAGF,QAAQ,CAACG,GAAG,CAAC,MAAM,CAAC;MAChC,IAAI,CAACV,QAAQ,CAACK,QAAQ,GAAG,IAAI,CAACP,KAAK,CAACa,QAAQ,CAACJ,QAAQ,CAACG,GAAG,CAAC,MAAM,CAAC;MACjE,IAAIE,IAAS;MAEbC,UAAU,CAAC,MAAK;QAChB,IAAI,CAACd,OAAO,CAACe,OAAO,CAAC,IAAI,CAACL,IAAI,CAAC,CAACM,IAAI,CAAEC,QAAa,IAAI;UACrD,IAAGA,QAAQ,CAAC,OAAO,CAAC,EAAC;YACnB,IAAI,CAACC,OAAO,GAAG,KAAK;YACpB,IAAI,CAACC,aAAa,GAAG,IAAI;WAC1B,MAAM,IAAIF,QAAQ,EAAE;YACnB;YACA,IAAI,CAACG,IAAI,GAAG,IAAI,CAACpB,OAAO,CAACqB,WAAW,CAACJ,QAAQ,CAACK,MAAM,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACH,IAAI,CAACI,OAAO;YACrC,IAAI,CAACJ,IAAI,CAACI,OAAO,GAAG,IAAI,CAACtB,SAAS,CAACuB,uBAAuB,CAAC,IAAI,CAACL,IAAI,CAACI,OAAO,CAAC;YAC7E,IAAI,CAACN,OAAO,GAAG,KAAK;;UAGtB,IAAI,CAACQ,aAAa,GAAG,IAAI,CAACH,YAAY,CAACI,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK;UACvE,IAAI,CAACC,eAAe,GAAG,IAAI,CAACL,YAAY,CAACI,KAAK,CAAC,YAAY,CAAC;UAG5D,IAAI,CAAC9B,YAAY,CAACgC,QAAQ,CAAC,IAAI,CAACT,IAAI,CAAC5B,KAAK,CAAC;UAC3C,IAAI,CAACM,IAAI,CAACgC,SAAS,CAAC;YAAEC,IAAI,EAAE,aAAa;YAAEC,OAAO,EAAE,IAAI,CAACJ;UAAe,CAAC,CAAC;UAC1E;UACA,IAAI,CAAC9B,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,UAAU;YAAED,OAAO,EAAE,IAAI,CAACZ,IAAI,CAAC5B;UAAK,CAAC,CAAC;UACtE,IAAI,CAACM,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,gBAAgB;YAAED,OAAO,EAAE,IAAI,CAACJ;UAAe,CAAC,CAAC;UACjF,IAAI,CAAC9B,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,UAAU;YAAED,OAAO,EAAE,IAAI,CAACZ,IAAI,CAACc;UAAS,CAAC,CAAC;UAC1E,IAAI,CAACpC,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,SAAS;YAAED,OAAO,EAAE;UAAS,CAAC,CAAC;UAC/D,IAAI,CAAClC,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,QAAQ;YAAED,OAAO,EAAE;UAAyB,CAAC,CAAC;UAC9E;UACA,IAAI,CAAClC,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,eAAe;YAAED,OAAO,EAAE,IAAI,CAACZ,IAAI,CAAC5B;UAAK,CAAC,CAAC;UAC3E,IAAI,CAACM,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,qBAAqB;YAAED,OAAO,EAAE,IAAI,CAACJ;UAAe,CAAC,CAAC;UACtF,IAAI,CAAC9B,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,eAAe;YAAED,OAAO,EAAE,IAAI,CAACZ,IAAI,CAACc;UAAS,CAAC,CAAC;UAC/E,IAAI,CAACpC,IAAI,CAACgC,SAAS,CAAC;YAAEG,QAAQ,EAAE,aAAa;YAAED,OAAO,EAAE;UAAyB,CAAC,CAAC;UAGnF;UACA,SAASG,SAAS,CAACC,SAAS,EAAEC,IAAI,EAAEC,QAAQ;YAC1C,IAAIC,MAAM,GAAGpC,QAAQ,CAACqC,aAAa,CAAC,QAAQ,CAAC;YAC7C,KAAK,IAAIC,IAAI,IAAIL,SAAS,EAAE;cAC1BG,MAAM,CAAClC,YAAY,CAACoC,IAAI,EAAEL,SAAS,CAACK,IAAI,CAAC,GAAGL,SAAS,CAACK,IAAI,CAAC,GAAG,IAAI,CAAC;;YAErEF,MAAM,CAACG,SAAS,GAAGL,IAAI;YACvBE,MAAM,CAACI,MAAM,GAAGL,QAAQ;YACxBnC,QAAQ,CAACyC,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;UACnC;UAEAJ,SAAS,CAAC;YACRW,IAAI,EAAE;WACP,EACD,iFAAiF,GAAE,IAAI,CAAC1B,IAAI,CAAC2B,cAAc,GAAG,gBAAgB,GAAG,IAAI,CAAC3B,IAAI,CAAC5B,KAAK,GAAG,mBAAmB,GAAG,IAAI,CAACoC,eAAe,GAAG,YAAY,GAAG,IAAI,CAACR,IAAI,CAAC5B,KAAK,GAAG,0CAA0C,GAAG,IAAI,CAAC4B,IAAI,CAACc,SAAS,GAAG,WAAW,GAAG,IAAI,CAACd,IAAI,CAACc,SAAS,GAAG,yCAAyC,GAAG,IAAI,CAACd,IAAI,CAAC5B,KAAK,GAAG,qBAAqB,GAAG,IAAI,CAAC4B,IAAI,CAACc,SAAS,GAAG,MAAM,EAC1b,aAAW,CAAC,CAAC;QAEf,CAAC,CAAC;MACF,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,CAAC;EACJ;EAEAc,WAAW,CAACC,KAAK;IACfC,QAAQ,CAACC,MAAM,EAAE;EACnB;EAEAC,eAAe,IACf;EAEAC,WAAW,IACX;EAEAC,eAAe;IACb,IAAI,CAACtB,OAAO,CAACuB,WAAW,CAAC,GAAG,CAAC;EAC/B;;;;;;;;;;;;;;;UAhGCnE,oDAAS;IAAAoE,OAACnE,sDAAU,EAAE;MAAEoE,MAAM,EAAE;IAAI,CAAE;EAAA;;AAD5BpF,YAAY,sDANxBc,wDAAS,CAAC;EACTuE,QAAQ,EAAE,cAAc;EACxBC,UAAAA,2DAAmC;;CAEpC,CAAC,GAEWtF,YAAY,CAmGxB;;;;;;;;;;;ACjHD;AACA,4CAA4C,mBAAO,CAAC,uEAA6D;AACjH,kCAAkC,mBAAO,CAAC,+DAAsD;AAChG;AACA;AACA,iDAAiD,kEAAkE;AACnH;AACA","sources":["./src/app/stronica/stronica-routing.module.ts","./src/app/stronica/stronica.module.ts","./src/app/stronica/stronica.page.ts","./src/app/stronica/stronica.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StronicaPage } from './stronica.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StronicaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StronicaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { StronicaPageRoutingModule } from './stronica-routing.module';\nimport { StronicaPage } from './stronica.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StronicaPageRoutingModule,\n    ComponentsModule,\n  ],\n  declarations: [StronicaPage]\n})\nexport class StronicaPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { IonContent } from \"@ionic/angular\";\nimport { ActivatedRoute } from '@angular/router';\nimport { Service } from '../../app/services/Service';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { Settings } from 'src/app/entities/settings';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-stronica',\n  templateUrl: './stronica.page.html',\n  styleUrls: ['./stronica.page.scss'],\n})\n\nexport class StronicaPage implements OnInit {\n  @ViewChild(IonContent, { static: true }) content: IonContent;\n  loading: boolean = true;\n  loadingFailed: boolean = false;\n  post: any;\n  title;\n  contents_new;\n  content_short;\n  seo_description;\n  slug;\n\n  \nconstructor(\n\tprivate titleService: Title,\n\tprivate meta: Meta,\n\tprivate route: ActivatedRoute,\n\tprivate service: Service,\n    public settings: Settings,\n    private sanitizer: DomSanitizer\n) {\n\n   document.documentElement.setAttribute(\"lang\", this.settings.langCode);\n   \n}\n\n  ngOnInit() {\n    this.route.paramMap.subscribe((paramMap) => {\n      this.slug = paramMap.get('slug');\n      this.settings.langCode = this.route.snapshot.paramMap.get(\"lang\");\n      let data: any;\n      \n      setTimeout(() => {\n      this.service.getData(this.slug).then((response: any) => {\n        if(response['error']){\n          this.loading = false;\n          this.loadingFailed = true;\n        } else if (response) {\n          //console.log(response);\n          this.post = this.service.convertData(response.values)[0];\n          this.contents_new = this.post.Content;\n          this.post.Content = this.sanitizer.bypassSecurityTrustHtml(this.post.Content);\n          this.loading = false;\n        }\n        \n        this.content_short = this.contents_new.match(/^[\\s\\S]{0,700}/g) + \"...\";\n        this.seo_description = this.contents_new.match(/^.{1,150}/g);\n\n\n        this.titleService.setTitle(this.post.Title);\n        this.meta.updateTag({ name: 'description', content: this.seo_description});\n        // OpenGraph Meta Tags\n        this.meta.updateTag({ property: 'og:title', content: this.post.Title});\n        this.meta.updateTag({ property: 'og:description', content: this.seo_description});\n        this.meta.updateTag({ property: 'og:image', content: this.post.image_url});\n        this.meta.updateTag({ property: 'og:type', content: 'website'});\n        this.meta.updateTag({ property: 'og:url', content: 'https://basniezmazur.pl'});\n        // Twitter Meta Tags\n        this.meta.updateTag({ property: 'twitter:title', content: this.post.Title});\n        this.meta.updateTag({ property: 'twitter:description', content: this.seo_description});\n        this.meta.updateTag({ property: 'twitter:image', content: this.post.image_url});\n        this.meta.updateTag({ property: 'twitter:url', content: 'https://basniezmazur.pl'});\n\n\n        // Schema Markup\n        function addScript(attribute, text, callback) {\n          var schema = document.createElement('script');\n          for (var attr in attribute) {\n            schema.setAttribute(attr, attribute[attr] ? attribute[attr] : null)\n          }\n          schema.innerHTML = text;\n          schema.onload = callback;\n          document.head.appendChild(schema);\n        }\n\n        addScript({\n          type: 'application/ld+json',\n        },\n        '{\"@context\":\"https://schema.org\",\"@graph\":[{\"@type\":\"Article\",\"datePublished\":\"'+ this.post.formatted_date + '\",\"headline\":\"' + this.post.Title + '\",\"description\":\"' + this.seo_description + '\",\"name\":\"' + this.post.Title + '\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"' + this.post.image_url + '\",\"url\":\"' + this.post.image_url + '\",\"height\":670,\"width\":1200,\"caption\":\"' + this.post.Title + '\"},\"thumbnailUrl\":\"' + this.post.image_url + '\"}]}',\n        function(){});\n        \n      });\n      }, 200);\n    });\n  }\n\n  madeRefresh(event) {\n    location.reload();\n  }\n  \n  ngAfterViewInit() {\n  }\n\n  ngOnDestroy() {\n  }\n\t\n  ionViewDidEnter() {\n    this.content.scrollToTop(400);\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","StronicaPage","routes","path","component","StronicaPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","ComponentsModule","StronicaPageModule","declarations","Component","ViewChild","IonContent","ActivatedRoute","Service","Title","Meta","Settings","DomSanitizer","constructor","titleService","meta","route","service","settings","sanitizer","document","documentElement","setAttribute","langCode","ngOnInit","paramMap","subscribe","slug","get","snapshot","data","setTimeout","getData","then","response","loading","loadingFailed","post","convertData","values","contents_new","Content","bypassSecurityTrustHtml","content_short","match","seo_description","setTitle","updateTag","name","content","property","image_url","addScript","attribute","text","callback","schema","createElement","attr","innerHTML","onload","head","appendChild","type","formatted_date","madeRefresh","event","location","reload","ngAfterViewInit","ngOnDestroy","ionViewDidEnter","scrollToTop","args","static","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}